############################################
#æµ‹è¯•ç‰ˆåŠŸèƒ½å¯èƒ½æ— æ³•æ­£å¸¸è¿è¡Œ\nBeta features may not work properly.
beta_features() {
    RETURN_TO_WHERE='beta_features'
    RETURN_TO_MENU='beta_features'
    TMOE_BETA=$(
        whiptail --title "The Secret Garden" --menu "Some functions do not support container environment\nä»¥ä¸‹å¹¶éæ‰€æœ‰åŠŸèƒ½éƒ½æ”¯æŒå®¹å™¨ç¯å¢ƒã€‚" 0 55 0 \
            "1" "ğŸ¬ container/vm:dockerå®¹å™¨,qemu,vboxè™šæ‹Ÿæœº" \
            "2" "ğŸŒŒ science&edu:ç§‘å­¦ä¸æ•™è‚²(é«˜è€ƒ,è€ƒç ”,ç§‘ç ”)" \
            "3" "ğŸ”¨ system:ç³»ç»Ÿ(å¯åŠ¨é¡¹ä¸ç”¨æˆ·ç»„ç®¡ç†)" \
            "4" "ğŸŒ¼ Store&download:ç¹èŠ±ä¼¼é”¦,ä¸€åˆ‡çš†åœ¨æ­¤ä¸­" \
            "5" "ğŸ¬ cut video:å²æœˆé™å¥½,å‰ªä¸‹ä½³åˆ»" \
            "6" "ğŸ¨ paint:èå…¥æ„å¢ƒ,ç»˜ç”»çœŸè°›" \
            "7" "ğŸ’¾ file:æ–‡ä»¶,æµ©å¦‚çƒŸæµ·" \
            "8" "ğŸ“ read:å¢¨çº¸ç•™é¦™,å“å‘³é˜…è¯»" \
            "9" "ğŸ¥… network:ç½‘ç»œ(ç½‘å¡é©±åŠ¨,WiFiæ‰«æ)" \
            "10" "âŒ¨ input method:è¾“å…¥æ³•(fcitx)" \
            "11" ">_ Terminal:ç»ˆç«¯" \
            "12" "ğŸ• other:å…¶å®ƒç±»(obs,scrcpy)" \
            "0" "ğŸŒš Back to the main menu è¿”å›ä¸»èœå•" \
            3>&1 1>&2 2>&3
    )
    ##########
    case ${TMOE_BETA} in
    0 | "") tmoe_linux_tool_menu ;;
    1) install_container_and_virtual_machine ;;
    2) tmoe_education_app_menu ;;
    3) tmoe_system_app_menu ;;
    4) tmoe_store_app_menu ;;
    5) tmoe_media_menu ;;
    6) tmoe_paint_app_menu ;;
    7) tmoe_file_browser_app_menu ;;
    8) tmoe_reader_app_menu ;;
    9) network_manager_tui ;;
    10) install_pinyin_input_method ;;
    11) source_tmoe_terminal_app_menu ;;
    12) tmoe_other_app_menu ;;
    esac
    ##############################
    press_enter_to_return
    beta_features
}
##########
# å·²åºŸå¼ƒ "7" "ğŸ‘¬ SNS:è¿›è¡Œç‰©è´¨å’Œç²¾ç¥äº¤æµçš„ç¤¾ä¼šæ´»åŠ¨çš„app" \
#7) tmoe_sns_app_menu ;;
source_tmoe_terminal_app_menu() {
    source ${TMOE_TOOL_DIR}/app/terminal
}
##########
tmoe_other_app_menu() {
    RETURN_TO_WHERE='tmoe_other_app_menu'
    DEPENDENCY_01=''
    TMOE_APP=$(
        whiptail --title "OTHER" --menu \
            "Which software do you want to installï¼Ÿ" 0 50 0 \
            "1" "OBS-Studio(å½•å±è½¯ä»¶)" \
            "2" "seahorse(å¯†é’¥ç®¡ç†)" \
            "3" "kodi(å®¶åº­å½±é™¢è½¯ä»¶)" \
            "4" "scrcpy(å¼€æºçš„AndroidæŠ•å±è½¯ä»¶)" \
            "5" "ğŸ”¥ Flameshot(ç«ç„°æˆªå›¾,å¼ºå¤§ä¸”æ˜“ç”¨çš„æˆªå›¾è½¯ä»¶)" \
            "6" "telegram(ç”µæŠ¥æ˜¯ä¸€æ¬¾æ³¨é‡éšç§çš„èŠå¤©è½¯ä»¶)" \
            "0" "ğŸŒš Return to previous menu è¿”å›ä¸Šçº§èœå•" \
            3>&1 1>&2 2>&3
    )
    ##########################
    case "${TMOE_APP}" in
    0 | "") beta_features ;;
    1) install_obs_studio ;;
    2) install_seahorse ;;
    3) install_kodi ;;
    4) configure_scrcpy ;;
    5) install_flameshot ;;
    6) install_telegram_desktop ;;
    esac
    ##########################
    press_enter_to_return
    tmoe_other_app_menu
}
##############
install_flameshot() {
    this_app_may_non_support_running_on_proot
    DEPENDENCY_02="flameshot"
    beta_features_quick_install
}
###############
install_telegram_desktop() {
    this_app_may_non_support_running_on_proot
    DEPENDENCY_02="telegram-desktop"
    beta_features_quick_install
}
################
configure_scrcpy() {
    RETURN_TO_WHERE='configure_scrcpy'
    DEPENDENCY_01=''
    SCRCPY_OPTION=$(
        whiptail --title "SCRCPY" --menu \
            "How do you want to configure the scrcpy?" 0 50 0 \
            "1" "install/remove(å®‰è£…/å¸è½½)" \
            "2" "connectionè¿æ¥ç®¡ç†" \
            "3" "switch deviceåˆ‡æ¢è®¾å¤‡" \
            "4" "restart é‡å¯adb" \
            "5" "readmeè¿æ¥è¯´æ˜" \
            "0" "ğŸŒš Return to previous menu è¿”å›ä¸Šçº§èœå•" \
            3>&1 1>&2 2>&3
    )
    ##########################
    case "${SCRCPY_OPTION}" in
    0 | "") tmoe_other_app_menu ;;
    1) install_scrcpy ;;
    2) scrcpy_connect_to_android_device ;;
    3) switch_scrcpy_device ;;
    4) restart_adb ;;
    5) scrpy_faq ;;
    esac
    #########################
    press_enter_to_return
    configure_scrcpy
}
##############
switch_scrcpy_device() {
    cd /tmp/
    adb devices 2>&1 | sed '1d;$d' | awk '{print $1}' >.tmoe-linux_cache.01
    adb devices -l 2>&1 | sed '1d;$d' | awk '{print $5,$4,$3}' | sed 's@model:@@g' | sed 's@-@_@g' | sed 's@product:@-@g' | sed 's@:@-@g' | sed 's@ @-@g' >.tmoe-linux_cache.02
    TMOE_ADB_DEVICE_LIST=$(paste -d ' ' .tmoe-linux_cache.01 .tmoe-linux_cache.02 | sed ":a;N;s/\n/ /g;ta")
    cat .tmoe-linux_cache.0*
    printf "%s\n" "${TMOE_ADB_DEVICE_LIST}"
    TMOE_ADB_DEVICE_ITEM=$(whiptail --title "SCRCPY DEVICES" --menu \
        "æ‚¨æƒ³è¦åˆ‡æ¢è‡³å“ªä¸ªè®¾å¤‡ï¼Ÿ\nWhich device do you want to switch?" 0 0 0 \
        ${TMOE_ADB_DEVICE_LIST} \
        "0" "ğŸŒš Return to previous menu è¿”å›ä¸Šçº§èœå•" \
        3>&1 1>&2 2>&3)
    case ${TMOE_ADB_DEVICE_ITEM} in
    0 | "") configure_scrcpy ;;
    esac
    printf "%s\n" "scrcpy -s ${TMOE_ADB_DEVICE_ITEM}"
    scrcpy -s ${TMOE_ADB_DEVICE_ITEM}
}
#############
scrpy_faq() {
    cat <<-EOF
		    tightvncå¯èƒ½æ— æ³•æ­£å¸¸å¯åŠ¨æœ¬åº”ç”¨ï¼ˆscrcpyï¼‰,æ‚¨å¯ä»¥åœ¨x11vncç¯å¢ƒä¸‹å¯åŠ¨å®ƒã€‚
		    å¯åŠ¨å‰è¯·å…ˆç¡®ä¿adbå·²æ­£å¸¸è¿æ¥è‡³æ‚¨çš„å®‰å“è®¾å¤‡ã€‚
		    è‹¥adbæ— æ³•è¿æ¥ï¼Œåˆ™è¯·é‡å¯adbæœåŠ¡ã€‚
			å¯åŠ¨æœ¬åº”ç”¨çš„å‘½ä»¤ä¸º${GREEN}scrcpy${RESET}
			---------------
			â‘  è‹¥Androidæ— rootæƒé™ï¼Œä¸”ç³»ç»Ÿæœªè‡ªå¸¦ADBç½‘ç»œè°ƒè¯•åŠŸèƒ½ï¼Œåˆ™è¯·å¼€å¯USBè°ƒè¯•åŠŸèƒ½ï¼Œå¹¶ä½¿ç”¨USBæ•°æ®çº¿è¿æ¥æœ¬æœºï¼ˆLinuxè®¾å¤‡)ã€‚
			â‘¡ è‹¥Androidæ— rootæƒé™ï¼Œä¸”ç³»ç»Ÿè‡ªå¸¦ADBç½‘ç»œè°ƒè¯•åŠŸèƒ½ï¼Œåˆ™è¯·åŒæ—¶å¼€å¯USBå’Œç½‘ç»œè°ƒè¯•åŠŸèƒ½ï¼Œæ‚¨æ— éœ€ä½¿ç”¨æ•°æ®çº¿å³å¯è¿æ¥ã€‚
			â‘¢ è‹¥Androidæœ‰rootæƒé™ï¼Œåˆ™æ‚¨å¯ä»¥é€šè¿‡å®‰è£…ç½‘ç»œADBè°ƒè¯•è½¯ä»¶https://coolapk.com/apk/com.yaerin.wadb æ¥å¼€å¯ç½‘ç»œADBè°ƒè¯•åŠŸèƒ½ã€‚
			---------------
			ä½¿ç”¨è¯´æ˜è¯¦è§https://github.com/Genymobile/scrcpy/blob/master/README.md
			https://www.iplaysoft.com/scrcpy.html
		å…³é—­æ‰‹æœºå±å¹•  scrcpy -S
		é™åˆ¶ç”»é¢åˆ†è¾¨ç‡ scrcpy -m 1024 (æ¯”å¦‚é™åˆ¶ä¸º 1024)
		ä¿®æ”¹è§†é¢‘ç ç‡  scrcpy -b 4M (é»˜è®¤ 8Mbpsï¼Œæ”¹æˆ 4Mbps)
		è£å‰ªç”»é¢    scrcpy -c 1920:1080:0:0
		è¡¨ç¤ºåˆ†è¾¨ç‡ 1920x1080 å¹¶ä¸”åç§»åæ ‡ä¸º (0,0)
		çª—å£ç½®é¡¶   scrcpy -T
		æ˜¾ç¤ºè§¦æ‘¸ç‚¹å‡» scrcpy -t
		åœ¨æ¼”ç¤ºæˆ–å½•åˆ¶æ•™ç¨‹æ—¶ï¼Œå¯åœ¨ç”»é¢ä¸Šå¯¹åº”æ˜¾ç¤ºå‡ºç‚¹å‡»åŠ¨ä½œ
		å…¨å±æ˜¾ç¤º     scrcpy -f
		æ–‡ä»¶ä¼ è¾“é»˜è®¤è·¯å¾„ scrcpy --push-target /ä½ çš„/ç›®å½•
		å°†æ–‡ä»¶æ‹–æ”¾åˆ° scrcpy å¯ä»¥ä¼ è¾“æ–‡ä»¶ï¼Œæ­¤å‘½ä»¤æŒ‡å®šé»˜è®¤ä¿å­˜ç›®å½•
		åªè¯»æ¨¡å¼(ä»…æ˜¾ç¤ºä¸æ§åˆ¶)  scrcpy -n
		å±å¹•å½•åƒ          scrcpy -r è§†é¢‘æ–‡ä»¶å.mp4 æˆ– .mkv
		å±å¹•å½•åƒ (ç¦ç”¨ç”µè„‘æ˜¾ç¤º) scrcpy -Nr æ–‡ä»¶å.mkv
		è®¾ç½®çª—å£æ ‡é¢˜        scrcpy --window-title '2333'
	EOF
}
###############
scrcpy_connect_to_android_device() {
    #è¯·è¾“å…¥adb
    TARGET=$(whiptail --inputbox "è¯·è¾“å…¥adbè¿æ¥åœ°å€ï¼Œä¾‹å¦‚192.168.99.3:5555\nè‹¥ä¸æ·»åŠ ç«¯å£,åˆ™ä½¿ç”¨é»˜è®¤å€¼" 0 0 --title "Please type the adb address" 3>&1 1>&2 2>&3)
    if [ "$?" != "0" ]; then
        ${RETURN_TO_WHERE}
    elif [ -z "${TARGET}" ]; then
        printf "%s\n" "è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å€¼"
        printf "%s\n" "Please enter a valid value"
        printf "%s\n" "æ£€æµ‹åˆ°æ‚¨æœªè¾“å…¥æœ‰æ•ˆçš„adbåœ°å€ï¼Œå·²è‡ªåŠ¨è°ƒæ•´ä¸ºlocalhost:5555"
    else
        if [ ! $(printf '%s\n' "${TARGET}" | grep ':') ]; then
            TARGET=${TARGET}:5555
            printf "%s\n" "æ£€æµ‹åˆ°æ‚¨æœªæ·»åŠ ç«¯å£ï¼Œå·²å°†ç«¯å£ä¿®æ”¹ä¸º5555"
        fi
    fi
    printf "%s\n" "æ­£åœ¨é€šè¿‡ADBè¿æ¥è‡³Androidè®¾å¤‡..."
    printf "%s\n" "${BLUE}adb connect ${TARGET}${RESET}"
    printf "%s\n" "Connecting to adb device..."
    adb connect ${TARGET}
    adb devices -l
    printf "%s\n" "æ‚¨å¯ä»¥åœ¨x11VNCä¸‹ä½¿ç”¨scrcpyæ¥å¯åŠ¨æœ¬åº”ç”¨"
    printf "%s\n" "æ‚¨æ˜¯å¦éœ€è¦ç«‹åˆ»å¯åŠ¨scrcpy?"
    do_you_want_to_continue
    scrcpy
}
##################
restart_adb() {
    adb kill-server
    adb devices -l
}
###########
install_scrcpy() {
    DEPENDENCY_02='scrcpy'
    beta_features_quick_install
}
############
install_seahorse() {
    DEPENDENCY_02='seahorse'
    beta_features_quick_install
}
###################
install_kodi() {
    DEPENDENCY_01='kodi'
    DEPENDENCY_02='kodi-wayland'
    beta_features_quick_install
}
######################
tmoe_store_app_menu() {
    RETURN_TO_WHERE='tmoe_store_app_menu'

    TMOE_APP=$(whiptail --title "å•†åº—ä¸ä¸‹è½½å·¥å…·" --menu \
        "Which software do you want to installï¼Ÿ" 0 50 0 \
        "1" "aptitude:åŸºäºç»ˆç«¯çš„è½¯ä»¶åŒ…ç®¡ç†å™¨" \
        "2" "deepin:æ·±åº¦è½¯ä»¶" \
        "3" "gnome-software(è½¯ä»¶å•†åº—)" \
        "4" "plasma-discover(KDEå‘ç°-è½¯ä»¶ä¸­å¿ƒ)" \
        "5" "Flatpak(è·¨å¹³å°åŒ…ç®¡ç†,ä¾¿æ·å®‰è£…timç­‰è½¯ä»¶)" \
        "6" "snap(ubuntuæ¯å…¬å¸å¼€å‘çš„è·¨å¹³å°å•†åº—)" \
        "7" "bauh(æ—¨åœ¨å¤„ç†Flatpak,Snap,AppImageå’ŒAUR)" \
        "8" "qbittorrent(P2Pä¸‹è½½å·¥å…·)" \
        "0" "ğŸŒš Return to previous menu è¿”å›ä¸Šçº§èœå•" \
        3>&1 1>&2 2>&3)
    ##########################
    case "${TMOE_APP}" in
    0 | "") beta_features ;;
    1)
        non_debian_function
        aptitude
        ;;
    2) install_deepin_software_menu ;;
    3) install_gnome_software ;;
    4) install_plasma_discover ;;
    5) install_flatpak_store ;;
    6) install_snap_store ;;
    7) install_bauh_store ;;
    8) install_qbitorrent ;;
    esac
    ##########################
    press_enter_to_return
    tmoe_store_app_menu
}
#################
install_deepin_software_menu() {
    RETURN_TO_WHERE='install_deepin_software_menu'
    #NON_DEBIAN=true
    DEPENDENCY_01=""
    TMOE_APP=$(whiptail --title "deepin store" --menu \
        "Which software do you want to installï¼Ÿ" 0 50 0 \
        "1" "dde-calendar(æ·±åº¦æ—¥å†)" \
        "2" "dde-qt5integration(Qt5 theme integration)" \
        "3" "deepin-calculator(è®¡ç®—å™¨)" \
        "4" "deepin-deb-installer(è½¯ä»¶åŒ…å®‰è£…å™¨)" \
        "5" "deepin-gettext-tools(Deepinå›½é™…åŒ–å·¥å…·)" \
        "6" "deepin-image-viewer(å›¾åƒæŸ¥çœ‹å™¨)" \
        "7" "deepin-menu(Deepin èœå•æœåŠ¡)" \
        "8" "deepin-movie(ç”µå½±æ’­æ”¾å™¨)" \
        "9" "deepin-music(éŸ³ä¹æ’­æ”¾å™¨ with brilliant and tweakful UI)" \
        "10" "deepin-notifications(ç³»ç»Ÿé€šçŸ¥)" \
        "11" "deepin-picker(æ·±åº¦å–è‰²å™¨)" \
        "12" "deepin-screen-recorder(ç®€å•å½•å±å·¥å…·)" \
        "13" "deepin-screenshot(é«˜çº§æˆªå›¾å·¥å…·)" \
        "14" "deepin-shortcut-viewer(å¼¹å‡ºå¼å¿«æ·é”®æŸ¥çœ‹å™¨)" \
        "15" "deepin-terminal(æ·±åº¦ç»ˆç«¯æ¨¡æ‹Ÿå™¨)" \
        "16" "deepin-voice-recorder(å½•éŸ³å™¨)" \
        "0" "ğŸŒš Return to previous menu è¿”å›ä¸Šçº§èœå•" \
        3>&1 1>&2 2>&3)
    ##########################
    case "${TMOE_APP}" in
    0 | "") tmoe_store_app_menu ;;
    1) DEPENDENCY_02="dde-calendar" ;;
    2) DEPENDENCY_02="dde-qt5integration" ;;
    3) DEPENDENCY_02="deepin-calculator" ;;
    4) DEPENDENCY_02="deepin-deb-installer" ;;
    5) DEPENDENCY_02="deepin-gettext-tools" ;;
    6) DEPENDENCY_02="deepin-image-viewer" ;;
    7) DEPENDENCY_02="deepin-menu" ;;
    8) DEPENDENCY_02="deepin-movie" ;;
    9) DEPENDENCY_02="deepin-music" ;;
    10) DEPENDENCY_02="deepin-notifications" ;;
    11) DEPENDENCY_02="deepin-picker" ;;
    12) DEPENDENCY_02="deepin-screen-recorder" ;;
    13) DEPENDENCY_02="deepin-screenshot" ;;
    14) DEPENDENCY_02="deepin-shortcut-viewer" ;;
    15) DEPENDENCY_02="deepin-terminal" ;;
    16) DEPENDENCY_02="deepin-voice-recorder" ;;
    esac
    ##########################
    beta_features_quick_install
    press_enter_to_return
    install_deepin_software_menu
}
#######################
install_bauh_store() {
    unset ${DEPENDENCY_02}
    case "$LINUX_DISTRO" in
    alpine) DEPENDENCY_01="py3-pip" ;;
    debian | redhat) DEPENDENCY_01=" python3-pip" ;;
    * | arch) DEPENDENCY_01="python-pip" ;;
    esac
    beta_features_quick_install
    sudo -H pip3 install bauh || su -c "pip3 install bauh"
}
#############
install_snap_store() {
    printf '%s\n' 'web store url:https://snapcraft.io/store'
    DEPENDENCY_01="snapd"
    DEPENDENCY_02="gnome-software-plugin-snap"
    if [ "${LINUX_DISTRO}" = "arch" ]; then
        DEPENDENCY_01="snapd"
        DEPENDENCY_02="snapd-xdg-open-git"
    fi
    beta_features_quick_install
    printf '%s\n' 'å‰å¾€åœ¨çº¿å•†åº—,è·å–æ›´å¤šåº”ç”¨'
    printf '%s\n' 'https://snapcraft.io/store'
    snap install snap-store
}
#############
install_flatpak_store() {
    DEPENDENCY_01="flatpak"
    DEPENDENCY_02="gnome-software-plugin-flatpak"
    printf '%s\n' 'web store url:https://flathub.org/'
    if [ "${LINUX_DISTRO}" = "gentoo" ]; then
        printf '%s\n' 'gentooç”¨æˆ·è¯·å‰å¾€æ­¤å¤„é˜…è¯»è¯¦ç»†è¯´æ˜'
        printf '%s\n' 'https://github.com/fosero/flatpak-overlay'
    elif [ "${LINUX_DISTRO}" = "arch" ]; then
        DEPENDENCY_02="gnome-software-packagekit-plugin"
    fi
    beta_features_quick_install
    flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
    printf '%s\n' 'å‰å¾€åœ¨çº¿å•†åº—,è·å–æ›´å¤šåº”ç”¨'
    printf '%s\n' 'https://flathub.org/apps'
}
#############
tmoe_paint_app_menu() {
    RETURN_TO_WHERE='tmoe_paint_app_menu'

    DEPENDENCY_01=""
    TMOE_APP=$(
        whiptail --title "ç»˜å›¾/åˆ¶å›¾app" --menu \
            "Which software do you want to installï¼Ÿ" 0 50 0 \
            "1" "krita(ç”±KDEç¤¾åŒºé©±åŠ¨çš„å¼€æºæ•°å­—ç»˜ç”»åº”ç”¨)" \
            "2" "inkscape(å¼ºå¤§çš„çŸ¢é‡å›¾ç»˜åˆ¶å·¥å…·)" \
            "3" "kolourpaint(KDEç”»å›¾ç¨‹åº,ç®€å•æ˜“ç”¨)" \
            "4" "R language:Rè¯­è¨€ç”¨äºç»Ÿè®¡åˆ†æ,å›¾å½¢è¡¨ç¤ºå’ŒæŠ¥å‘Š" \
            "5" "latexdraw(ç”¨javaå¼€å‘çš„ç¤ºæ„å›¾ç»˜åˆ¶è½¯ä»¶)" \
            "6" "LibreCAD(è½»é‡åŒ–çš„2D CADè§£å†³æ–¹æ¡ˆ)" \
            "7" "FreeCAD(ä»¥æ„å»ºæœºæ¢°å·¥ç¨‹å’Œäº§å“è®¾è®¡ä¸ºç›®æ ‡)" \
            "8" "OpenCAD(é€šè¿‡è§£é‡Šä»£ç æ¥æ¸²æŸ“å¯è§†åŒ–æ¨¡å‹)" \
            "9" "KiCAD(å¼€æºçš„PCBè®¾è®¡å·¥å…·)" \
            "10" "OpenSCAD(3Då»ºæ¨¡è½¯ä»¶)" \
            "11" "gnuplot(å‘½ä»¤è¡Œäº¤äº’å¼ç»˜å›¾å·¥å…·)" \
            "0" "ğŸŒš Return to previous menu è¿”å›ä¸Šçº§èœå•" \
            3>&1 1>&2 2>&3
    )
    ##########################
    case "${TMOE_APP}" in
    0 | "") beta_features ;;
    1)
        DEPENDENCY_01="krita"
        DEPENDENCY_02="krita-l10n"
        ;;
    2)
        DEPENDENCY_01="inkscape-tutorials"
        DEPENDENCY_02="inkscape"
        ;;
    3) DEPENDENCY_02="kolourpaint" ;;
    4) tmoe_r_language_menu ;;
    5) DEPENDENCY_02="latexdraw" ;;
    6) DEPENDENCY_02="librecad" ;;
    7) DEPENDENCY_02="freecad" ;;
    8) DEPENDENCY_02="opencad" ;;
    9)
        DEPENDENCY_01="kicad-templates"
        DEPENDENCY_02="kicad"
        ;;
    10) DEPENDENCY_02="openscad" ;;
    11)
        DEPENDENCY_01="gnuplot"
        DEPENDENCY_02="gnuplot-x11"
        ;;
    esac
    ##########################
    beta_features_quick_install
    press_enter_to_return
    tmoe_paint_app_menu
}
###################
tmoe_r_language_menu() {
    RETURN_TO_WHERE='tmoe_r_language_menu'

    DEPENDENCY_01=""
    TMOE_APP=$(
        whiptail --title "R" --menu \
            "Which software do you want to install?" 0 50 0 \
            "1" "r-base(GNU R statistical computation and graphics system)" \
            "2" "RStudio(x64,Rè¯­è¨€IDE)" \
            "3" "r-recommended(kernsmooth,lattice,mgcv,nlme,rpart,matrix,etc.)" \
            "0" "ğŸŒš Return to previous menu è¿”å›ä¸Šçº§èœå•" \
            3>&1 1>&2 2>&3
    )
    ##########################
    case "${TMOE_APP}" in
    0 | "") tmoe_paint_app_menu ;;
    1) install_r_base ;;
    2) install_r_studio ;;
    3) install_r_recommended ;;
    esac
    ##########################
    press_enter_to_return
    tmoe_r_language_menu
}
#############
check_rstudio_version() {
    THE_LATEST_ISO_LINK="$(curl -L ${REPO_URL} | grep ${GREP_NAME} | grep 'http' | sed -n 2p | cut -d '=' -f 2 | cut -d '"' -f 2)"
    THE_LATEST_DEB_VERSION=$(printf '%s\n' "${THE_LATEST_ISO_LINK}" | sed 's@/@ @g' | awk -F ' ' '$0=$NF')
    aria2c_download_file
}
##############
install_r_studio() {
    [[ "${ARCH_TYPE}" = 'amd64' ]] || arch_does_not_support
    REPO_URL='https://rstudio.com/products/rstudio/download/#download'
    case "${LINUX_DISTRO}" in
    "debian")
        GREP_NAME='amd64.deb'
        check_rstudio_version
        apt-cache show ./${THE_LATEST_DEB_VERSION}
        apt install -y ./${THE_LATEST_DEB_VERSION}
        ;;
    "redhat")
        GREP_NAME='x86_64.rpm'
        check_rstudio_version
        yum install -y ./${THE_LATEST_DEB_VERSION}
        ;;
    "arch")
        DEPENDENCY_02="rstudio-desktop-git"
        beta_features_quick_install
        ;;
    *) non_debian_function ;;
    esac
}
#####################
install_r_base() {
    DEPENDENCY_02="r-base"
    beta_features_quick_install
}
#############
install_r_recommended() {
    DEPENDENCY_02="r-recommended"
    beta_features_quick_install
}
#############
tmoe_file_browser_app_menu() {

    DEPENDENCY_01=""
    RETURN_TO_WHERE='tmoe_file_browser_app_menu'
    TMOE_APP=$(whiptail --title "æ–‡ä»¶ä¸ç£ç›˜" --menu \
        "Which software do you want to installï¼Ÿ" 0 50 0 \
        "1" "æ–‡ä»¶ç®¡ç†å™¨:thunar/nautilus/dolphin" \
        "2" "catfish(æ–‡ä»¶æœç´¢)" \
        "3" "gparted(å¼ºå¤§çš„GNOMEåˆ†åŒºç¼–è¾‘å™¨)" \
        "4" "baobab(ç›´è§‚æ˜“ç”¨çš„GNOMEç£ç›˜ç©ºé—´å ç”¨åˆ†æå™¨)" \
        "5" "cfdisk:åœ¨ç»ˆç«¯ä¸‹å¯¹ç£ç›˜è¿›è¡Œåˆ†åŒº" \
        "6" "partitionmanager(KDEç£ç›˜åˆ†åŒºå·¥å…·)" \
        "7" "mc:ç»ˆç«¯ä¸‹çš„æ–‡ä»¶ç®¡ç†å™¨" \
        "8" "ranger:å¸¦æœ‰VIé”®ç»‘å®šçš„æ§åˆ¶å°æ–‡ä»¶ç®¡ç†å™¨" \
        "9" "gnome-disks(å®ç”¨çš„ç£ç›˜ç®¡ç†å·¥å…·)" \
        "0" "ğŸŒš Return to previous menu è¿”å›ä¸Šçº§èœå•" \
        3>&1 1>&2 2>&3)
    ##########################
    #"9" "disk-manager(ç®€å•æ˜“ç”¨çš„åˆ†åŒºæŒ‚è½½å·¥å…·)" \
    #æ­¤è½¯ä»¶åŒ…ä¾èµ–python2ï¼Œå·²è¢«ç§»é™¤
    case "${TMOE_APP}" in
    0 | "") beta_features ;;
    1) thunar_nautilus_dolphion ;;
    2) install_catfish ;;
    3) install_gparted ;;
    4) install_baobab ;;
    5) start_cfdisk ;;
    6) install_partitionmanager ;;
    7) install_mc_fm ;;
    8) install_ranger_fm ;;
    9) install_gnome_disk_utility ;;
    esac
    ##########################
    press_enter_to_return
    tmoe_file_browser_app_menu
}
#############
install_mc_fm() {
    if [ ! $(command -v mc) ]; then
        DEPENDENCY_02="mc"
        beta_features_quick_install
        printf "%s\n" "å®‰è£…å®Œæˆï¼Œæ‚¨ä¹‹åå¯ä»¥è¾“mcå¯åŠ¨"
    fi
    mc
}
###########
install_ranger_fm() {
    if [ ! $(command -v ranger) ]; then
        DEPENDENCY_02="ranger"
        beta_features_quick_install
        printf "%s\n" "å®‰è£…å®Œæˆï¼Œæ‚¨ä¹‹åå¯ä»¥è¾“rangerå¯åŠ¨"
    fi
    ranger
}
#############
start_cfdisk() {
    if [ ! $(command -v cfdisk) ]; then
        DEPENDENCY_02="util-linux"
        beta_features_quick_install
    fi
    cfdisk
}
##################
install_gnome_disk_utility() {
    DEPENDENCY_02="gnome-disk-utility"
    beta_features_quick_install
}
##################
install_partitionmanager() {
    DEPENDENCY_02="partitionmanager"
    beta_features_quick_install
}
##################
install_baobab() {
    DEPENDENCY_02="baobab"
    beta_features_quick_install
}
############
install_gparted() {
    DEPENDENCY_02="gparted"
    beta_features_quick_install
}
##################
install_xournal() {
    DEPENDENCY_02="xournal"
    beta_features_quick_install
}
##########
install_evince() {
    DEPENDENCY_02="evince"
    beta_features_quick_install
}
##########
install_okular() {
    DEPENDENCY_01="okular"
    DEPENDENCY_02="okular-extra-backends"
    beta_features_quick_install
}
##############
install_kchmviewer() {
    DEPENDENCY_02="kchmviewer"
    beta_features_quick_install
}
#############
install_pdfchain() {
    DEPENDENCY_02="pdfchain"
    beta_features_quick_install
}
##############
tmoe_reader_app_menu() {
    RETURN_TO_WHERE='tmoe_reader_app_menu'
    DEPENDENCY_01=""
    TMOE_APP=$(whiptail --title "TXET & OFFICE" --menu \
        "Which software do you want to installï¼Ÿ" 0 50 0 \
        "1" "calibre(ç”µå­ä¹¦è½¬æ¢å™¨å’Œåº“ç®¡ç†)" \
        "2" "fbreader(epubé˜…è¯»å™¨)" \
        "3" "typora(markdownç¼–è¾‘å™¨)" \
        "4" "Xournal(æ‰‹å†™ç¼–è¾‘PDF)" \
        "5" "evince(GNOME-pdfæ–‡æ¡£é˜…è¯»å™¨)" \
        "6" "okular(KDE-pdf/epubæ–‡æ¡£é˜…è¯»å™¨)" \
        "7" "kchmviewer(KDEä¸‹çš„chmæŸ¥çœ‹å™¨)" \
        "8" "pdfchain(pdfç¼–è¾‘å™¨,æ”¯æŒåˆå¹¶,åˆ†å‰²,åŠ å¯†)" \
        "0" "ğŸŒš Return to previous menu è¿”å›ä¸Šçº§èœå•" \
        3>&1 1>&2 2>&3)
    ##########################
    case "${TMOE_APP}" in
    0 | "") beta_features ;;
    1) install_calibre ;;
    2) install_fbreader ;;
    3) install_typora ;;
    4) install_xournal ;;
    5) install_evince ;;
    6) install_okular ;;
    7) install_kchmviewer ;;
    8) install_pdfchain ;;
    esac
    ##########################
    #beta_features_quick_install
    press_enter_to_return
    tmoe_reader_app_menu
}
#############
tmoe_media_menu() {
    RETURN_TO_WHERE='tmoe_media_menu'
    DEPENDENCY_01=''

    BEAUTIFICATION=$(whiptail --title "å¤šåª’ä½“æ–‡ä»¶åˆ¶ä½œä¸å‰ªè¾‘" --menu \
        "Which software do you want to installï¼Ÿ" 0 50 0 \
        "1" "openshot(ç•Œé¢ç®€å•,å¤šç”¨é€”)" \
        "2" "mkvtoolnix-gui(åˆ†å‰²,ç¼–è¾‘,æ··æµ,åˆ†ç¦»,åˆå¹¶å’Œæå–mkv)" \
        "3" "kdenlive(æ¥è‡ªKDEçš„å¼€æºè§†é¢‘ç¼–è¾‘å™¨)" \
        "4" "flowblade(æ—¨åœ¨æä¾›ä¸€ä¸ªå¿«é€Ÿ,ç²¾ç¡®çš„åŠŸèƒ½)" \
        "5" "shotcut(è‡ªç”±ã€å¼€æºçš„è§†é¢‘ç¼–è¾‘è½¯ä»¶)" \
        "6" "olive(ä»¥Final Cut Pro ä¸ºç›®æ ‡)" \
        "7" "blender(å·¥ä¸šçº§,ç”¨äºç”µå½±åˆ¶ä½œå’Œè®¾è®¡3Dæ¨¡å‹)" \
        "0" "ğŸŒš Return to previous menu è¿”å›ä¸Šçº§èœå•" \
        3>&1 1>&2 2>&3)
    ##########################
    #"6" "DaVinci Resolve(è¾¾èŠ¬å¥‡è°ƒè‰²,ä¸“ä¸šè§†é¢‘ç¼–è¾‘å™¨)" \
    case "${BEAUTIFICATION}" in
    0 | "") beta_features ;;
    1) DEPENDENCY_02="openshot" ;;
    2) DEPENDENCY_02="mkvtoolnix-gui" ;;
    3) DEPENDENCY_02="kdenlive" ;;
    4) DEPENDENCY_02='flowblade' ;;
    5) DEPENDENCY_02='shotcut' ;;
    6) DEPENDENCY_02='olive-editor' ;;
    7) DEPENDENCY_02="blender" ;;
    esac
    ##########################
    beta_features_quick_install
    press_enter_to_return
    tmoe_media_menu
}
################
download_ubuntu_ppa_deb_model_01() {
    cd /tmp/
    THE_LATEST_DEB_VERSION="$(curl -L ${REPO_URL} | grep '\.deb' | grep "${GREP_NAME}" | head -n 1 | cut -d '=' -f 5 | cut -d '"' -f 2)"
    THE_LATEST_DEB_LINK="${REPO_URL}${THE_LATEST_DEB_VERSION}"
    printf "%s\n" "${THE_LATEST_DEB_LINK}"
    aria2c --console-log-level=warn --no-conf --allow-overwrite=true -s 5 -x 5 -k 1M -o "${THE_LATEST_DEB_VERSION}" "${THE_LATEST_DEB_LINK}"
    apt install ./${THE_LATEST_DEB_VERSION}
    rm -fv ${THE_LATEST_DEB_VERSION}
}
##############
install_catfish() {
    case "${TMOE_PROOT}" in
    true)
        printf "%s\n" "æ£€æµ‹åˆ°æ‚¨å¤„äºprootç¯å¢ƒä¸‹ï¼Œå¯èƒ½æ— æ³•æˆåŠŸåˆ›å»ºç´¢å¼•æ•°æ®åº“"
        printf "%s\n" "è‹¥å®‰è£…æ—¶å¡åœ¨mlocalteï¼Œè¯·æŒ‰Ctrl+Cå¹¶å¼ºåˆ¶é‡å¯ç»ˆç«¯ï¼Œæœ€åè¾“${TMOE_REMOVAL_COMMAND} mlocate catfish"
        do_you_want_to_continue
        case "${DEBIAN_DISTRO}" in
        "ubuntu")
            printf "%s\n" "æ£€æµ‹åˆ°æ‚¨ä½¿ç”¨çš„ubuntuï¼Œæ‚¨çœŸçš„è¦ç»§ç»­å®‰è£…å—ï¼Ÿ"
            press_enter_to_continue
            ;;
        esac
        ;;
    esac
    DEPENDENCY_01=''
    DEPENDENCY_02='catfish'
    beta_features_quick_install
}
##################
install_gnome_logs() {
    DEPENDENCY_01='gnome-system-tools'
    DEPENDENCY_02='gnome-logs'
    beta_features_quick_install
}
##################
thunar_nautilus_dolphion() {
    case "${TMOE_PROOT}" in
    true)
        printf "%s\n" "æ£€æµ‹åˆ°æ‚¨å½“å‰ä½¿ç”¨çš„æ˜¯${BLUE}prootå®¹å™¨${RESET}ï¼Œä¸å»ºè®®æ‚¨å®‰è£…${RED}dolphion${RESET}"
        printf "%s\n" "dolphionåœ¨å½“å‰ç¯å¢ƒä¸‹å¯èƒ½æ— æ³•æ­£å¸¸å¯åŠ¨"
        printf "%s\n" "è¯·é€‰æ‹©${GREEN}thunar${RESET}æˆ–${GREEN}nautilus${RESET}"
        ;;
    esac
    DEPENDENCY_02=""
    printf "%s\n" "${YELLOW}Which file manager do you want to install?[t/n/d/r]${RESET}"
    printf "%s\n" "è¯·é€‰æ‹©æ‚¨éœ€è¦å®‰è£…çš„${BLUE}æ–‡ä»¶ç®¡ç†å™¨${RESET}ï¼Œè¾“${YELLOW}t${RESET}å®‰è£…${GREEN}thunar${RESET},è¾“${YELLOW}n${RESET}å®‰è£…${GREEN}nautilus${RESET}ï¼Œè¾“${YELLOW}d${RESET}å®‰è£…${GREEN}dolphion${RESET}ï¼Œè¾“${YELLOW}r${RESET}${BLUE}è¿”å›${RESET}ã€‚"
    printf "%s\n" "Type t to install thunar,type n to install nautils,type d to install dolphin,type r to return."
    read -r opt
    case $opt in
    t* | T* | "")
        DEPENDENCY_01="thunar"
        ;;
    n* | N*)
        DEPENDENCY_01="nautilus"
        ;;
    d* | D*)
        DEPENDENCY_02="dolphin"
        ;;
    r* | R*)
        tmoe_file_browser_app_menu
        ;;
    *)
        printf "%s\n" "Invalid choice. skipped."
        beta_features
        #beta_features
        ;;
    esac

    beta_features_quick_install
}
##################
#############
install_obs_studio() {
    if [ ! $(command -v ffmpeg) ]; then
        DEPENDENCY_01="ffmpeg"
    else
        DEPENDENCY_01=""
    fi

    if [ "${LINUX_DISTRO}" = "gentoo" ]; then
        DEPENDENCY_02="media-video/obs-studio"
    else
        DEPENDENCY_02="obs-studio"
    fi

    beta_features_quick_install

    if [ "${LINUX_DISTRO}" = "redhat" ]; then
        if [ $(command -v dnf) ]; then
            dnf install -y https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm
            dnf install -y obs-studio
        else
            yum install -y https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm
            yum install -y obs-studio
        fi
        #dnf install xorg-x11-drv-nvidia-cuda
    fi
    printf "%s\n" "è‹¥å®‰è£…å¤±è´¥ï¼Œåˆ™è¯·å‰å¾€å®˜ç½‘é˜…è¯»å®‰è£…è¯´æ˜ã€‚"
    printf "%s\n" "url: https://obsproject.com/wiki/install-instructions#linux"
    press_enter_to_return
    tmoe_other_app_menu
}
######################
install_grub_customizer() {
    DEPENDENCY_01="grub-customizer"
    DEPENDENCY_02=""

    beta_features_quick_install
}
############################
install_qbitorrent() {
    DEPENDENCY_01="qbittorrent"
    DEPENDENCY_02=""

    beta_features_quick_install
}
############################
install_plasma_discover() {
    DEPENDENCY_01="plasma-discover"
    if [ "${LINUX_DISTRO}" = "arch" ]; then
        DEPENDENCY_01="discover"
    fi
    DEPENDENCY_02=""

    beta_features_quick_install
}
############################
install_calibre() {
    DEPENDENCY_02="calibre"
    beta_features_quick_install
}
############################
install_fbreader() {
    DEPENDENCY_02="fbreader"
    beta_features_quick_install
}
################
beta_features
